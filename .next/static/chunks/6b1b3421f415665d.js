(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2874,e=>{"use strict";var s=e.i(43476),t=e.i(19455),a=e.i(11795),r=e.i(18566);let i=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var l=e.i(59438);function n(){let e=(0,r.useRouter)(),n=(0,a.createClient)();async function c(){await n.auth.signOut(),e.push("/login")}return(0,s.jsxs)(l.GlassCard,{className:"mb-8 py-4 px-6 flex items-center justify-between",hoverEffect:!1,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"font-bold text-primary",children:"C"})}),(0,s.jsx)("span",{className:"font-bold text-xl tracking-tight",children:"Cronify"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard"),children:"Dashboard"}),(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard/share"),children:"Partners"}),(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard/shared-with-me"),children:"Shared View"}),(0,s.jsxs)(t.Button,{variant:"destructive",size:"sm",onClick:c,className:"gap-2",children:[(0,s.jsx)(i,{className:"w-4 h-4"}),"Logout"]})]})]})}e.s(["Navbar",()=>n],2874)},121,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(11795),r=e.i(59438),i=e.i(19455),l=e.i(93479),n=e.i(10204),c=e.i(46696),d=e.i(31278),h=e.i(75254);let o=(0,h.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),u=(0,h.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);function m(){let[e,h]=(0,t.useState)([]),[m,x]=(0,t.useState)(""),[p,y]=(0,t.useState)(!1),f=(0,a.createClient)();async function j(){let{data:e,error:s}=await f.from("partnerships").select("*").order("created_at",{ascending:!1});!s&&e&&h(e)}async function v(e){e.preventDefault(),y(!0);try{let{data:{user:e}}=await f.auth.getUser();if(!e)throw Error("Not authenticated");let{error:s}=await f.from("partnerships").insert({user_id:e.id,partner_email:m,status:"active"});if(s)throw s;c.toast.success("Partner invited successfully"),x(""),j()}catch(e){c.toast.error(e.message)}finally{y(!1)}}return(0,t.useEffect)(()=>{j()},[]),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(r.GlassCard,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u,{className:"w-5 h-5 text-primary"}),(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Share Your Progress"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Invite a partner to view your habits and keep you accountable."}),(0,s.jsxs)("form",{onSubmit:v,className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(n.Label,{htmlFor:"email",className:"sr-only",children:"Partner Email"}),(0,s.jsx)(l.Input,{id:"email",type:"email",placeholder:"partner@example.com",value:m,onChange:e=>x(e.target.value),required:!0,className:"bg-white/5 border-white/10"})]}),(0,s.jsxs)(i.Button,{type:"submit",disabled:p,children:[p?(0,s.jsx)(d.Loader2,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(o,{className:"w-4 h-4 mr-2"}),"Invite"]})]})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Your Partners"}),0===e.length?(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"No partners yet."}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:e.map(e=>(0,s.jsxs)(r.GlassCard,{className:"flex items-center justify-between p-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.partner_email}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:e.status})]}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:"Remove"})]},e.id))})]})]})}e.s(["Partnerships",()=>m],121)}]);