(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44705,e=>{"use strict";var t=e.i(18566),a=e.i(71645),s=e.i(61745),r=a["use".trim()],i=e.i(49092),n=e.i(77105),l=e.i(89790),c=e.i(43476),o=e.i(33165);let{Link:u,redirect:d,usePathname:h,useRouter:m,getPathname:f}=function(e){let{Link:u,config:d,getPathname:h,...m}=function(e,s){var o,u,d;let h={...o=s||{},localePrefix:"object"==typeof(d=o.localePrefix)?d:{mode:d||"always"},localeCookie:!!((u=o.localeCookie)??1)&&{name:"NEXT_LOCALE",sameSite:"lax",..."object"==typeof u&&u},localeDetection:o.localeDetection??!0,alternateLinks:o.alternateLinks??!0},m=h.pathnames,f=(0,a.forwardRef)(function({href:t,locale:a,...s},l){let o,u;"object"==typeof t?(o=t.pathname,u=t.params):o=t;let d=(0,i.isLocalizableHref)(t),f=e(),x=(0,i.isPromise)(f)?r(f):f,g=d?p({locale:a||x,href:null==m?o:{pathname:o,params:u},forcePrefix:null!=a||void 0}):o;return(0,c.jsx)(n.default,{ref:l,href:"object"==typeof t?{...t,pathname:g}:g,locale:a,localeCookie:h.localeCookie,...s})});function p(e){let t,{forcePrefix:a,href:s,locale:r}=e;return null==m?"object"==typeof s?(t=s.pathname,s.query&&(t+=(0,l.serializeSearchParams)(s.query))):t=s:t=(0,l.compileLocalizedPathname)({locale:r,...(0,l.normalizeNameOrNameWithParams)(s),pathnames:h.pathnames}),(0,l.applyPathnamePrefix)(t,r,h,a)}function x(e){return function(t,...a){return e(p(t),...a)}}return{config:h,Link:f,redirect:x(t.redirect),permanentRedirect:x(t.permanentRedirect),getPathname:p}}(s.useLocale,e);return{...m,Link:u,usePathname:function(){let e,r,n=(e=(0,t.usePathname)(),r=(0,s.useLocale)(),(0,a.useMemo)(()=>{if(!e)return e;let t=e,a=(0,i.getLocalePrefix)(r,d.localePrefix);if((0,i.hasPathnamePrefixed)(a,e))t=(0,i.unprefixPathname)(e,a);else if("never"!==d.localePrefix.mode&&d.localePrefix.prefixes){let a=(0,i.getLocaleAsPrefix)(r);(0,i.hasPathnamePrefixed)(a,e)&&(t=(0,i.unprefixPathname)(e,a))}return t},[d.localePrefix,r,e])),c=(0,s.useLocale)();return(0,a.useMemo)(()=>n&&d.pathnames?(0,l.getRoute)(c,n,d.pathnames):n,[c,n])},useRouter:function(){let e=(0,t.useRouter)(),r=(0,s.useLocale)(),i=(0,t.usePathname)();return(0,a.useMemo)(()=>{function t(e){return function(t,a){let{locale:s,...n}=a||{},l=[h({href:t,locale:s||r,forcePrefix:null!=s||void 0})];Object.keys(n).length>0&&l.push(n),(0,o.default)(d.localeCookie,i,r,s),e(...l)}}return{...e,push:t(e.push),replace:t(e.replace),prefetch:t(e.prefetch)}},[r,i,e])},getPathname:h}}({locales:["en","es"],defaultLocale:"en"});e.s(["Link",0,u,"usePathname",0,h,"useRouter",0,m],44705)},48148,e=>{"use strict";var t=e.i(61745);function a(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let s=a(0,t.useTranslations);a(0,t.useFormatter),e.s(["useTranslations",()=>s])},2874,e=>{"use strict";var t=e.i(43476),a=e.i(19455),s=e.i(11795),r=e.i(44705);let i=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var n=e.i(59438),l=e.i(48148),c=e.i(39366);function o(){let e=(0,r.useRouter)(),o=(0,s.createClient)(),u=(0,l.useTranslations)("Navbar");async function d(){await o.auth.signOut(),e.push("/login")}return(0,t.jsxs)(n.GlassCard,{className:"mb-8 py-4 px-6 flex items-center justify-between",hoverEffect:!1,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-bold text-primary",children:"C"})}),(0,t.jsx)("span",{className:"font-bold text-xl tracking-tight",children:"Cronify"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard"),children:u("dashboard")}),(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard/partners"),children:u("partners")}),(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard/shared"),children:u("sharedView")}),(0,t.jsx)(c.LanguageSwitcher,{}),(0,t.jsxs)(a.Button,{variant:"destructive",size:"sm",onClick:d,className:"gap-2",children:[(0,t.jsx)(i,{className:"w-4 h-4"}),u("logout")]})]})]})}e.s(["Navbar",()=>o],2874)},42429,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(11795),r=e.i(2874),i=e.i(59438),n=e.i(48148),l=e.i(31278);function c(){let[e,c]=(0,a.useState)([]),[o,u]=(0,a.useState)(!0),d=(0,s.createClient)(),h=(0,n.useTranslations)("SharedHabits"),m=new Date().toISOString().split("T")[0];return(0,a.useEffect)(()=>{!async function(){try{let{data:{user:e}}=await d.auth.getUser();if(!e||!e.email)return;let{data:t}=await d.from("partnerships").select("user_id").eq("partner_email",e.email).eq("status","active");if(!t||0===t.length)return void u(!1);let a=t.map(e=>e.user_id),{data:s}=await d.from("habits").select(`
                        *,
                        habit_logs(date, status)
                    `).in("user_id",a).order("created_at",{ascending:!1});s&&c(s.map(e=>({...e,user_email:"Partner",logs:e.habit_logs})))}catch(e){console.error("Error fetching shared habits:",e)}finally{u(!1)}}()},[]),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(r.Navbar,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:h("title")}),(0,t.jsx)("p",{className:"text-muted-foreground",children:h("description")})]}),o?(0,t.jsx)("div",{className:"flex justify-center p-8",children:(0,t.jsx)(l.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):0===e.length?(0,t.jsx)(i.GlassCard,{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:h("noHabits")})}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{let a=e.logs.find(e=>e.date===m);return(0,t.jsxs)(i.GlassCard,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:h("statusToday")}),a?(0,t.jsx)("span",{className:"completed"===a.status?"text-green-500":"text-red-500 capitalize",children:a.status}):(0,t.jsx)("span",{className:"text-muted-foreground",children:h("pending")})]})]},e.id)})})]})}e.s(["default",()=>c])}]);