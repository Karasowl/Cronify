(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2874,e=>{"use strict";var s=e.i(43476),t=e.i(19455),a=e.i(11795),i=e.i(18566);let r=(0,e.i(75254).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var l=e.i(59438);function d(){let e=(0,i.useRouter)(),d=(0,a.createClient)();async function n(){await d.auth.signOut(),e.push("/login")}return(0,s.jsxs)(l.GlassCard,{className:"mb-8 py-4 px-6 flex items-center justify-between",hoverEffect:!1,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"font-bold text-primary",children:"C"})}),(0,s.jsx)("span",{className:"font-bold text-xl tracking-tight",children:"Cronify"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard"),children:"Dashboard"}),(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard/share"),children:"Partners"}),(0,s.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard/shared-with-me"),children:"Shared View"}),(0,s.jsxs)(t.Button,{variant:"destructive",size:"sm",onClick:n,className:"gap-2",children:[(0,s.jsx)(r,{className:"w-4 h-4"}),"Logout"]})]})]})}e.s(["Navbar",()=>d],2874)},43531,78745,41947,37727,e=>{"use strict";var s=e.i(75254);let t=(0,s.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t],78745),e.s(["Check",()=>t],43531);let a=(0,s.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>a],41947),e.s(["X",()=>a],37727)},54786,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(11795),i=e.i(59438),r=e.i(43531),l=e.i(37727);let d=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function n(){let[e,n]=(0,t.useState)([]),[c,h]=(0,t.useState)(!0),o=(0,a.createClient)(),u=new Date().toISOString().split("T")[0];async function m(){try{let{data:{user:e}}=await o.auth.getUser();if(!e||!e.email)return;let{data:s}=await o.from("partnerships").select("user_id").eq("partner_email",e.email).eq("status","active");if(!s||0===s.length)return void h(!1);let t=s.map(e=>e.user_id),{data:a}=await o.from("habits").select("*, habit_logs(*)").in("user_id",t);n(a||[])}catch(e){console.error("Error fetching shared habits:",e)}finally{h(!1)}}return((0,t.useEffect)(()=>{m()},[]),c)?(0,s.jsx)("div",{children:"Loading shared view..."}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold",children:"Shared With Me"}),0===e.length?(0,s.jsx)("p",{className:"text-muted-foreground",children:"No one has shared their habits with you yet."}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{let t=e.habit_logs?.find(e=>e.date===u),a=t?.status==="completed",n=t?.status==="failed";return(0,s.jsxs)(i.GlassCard,{className:"border-l-4 border-l-primary/50",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,s.jsx)(d,{className:"w-3 h-3"})," Shared User"]})]}),a&&(0,s.jsx)(r.Check,{className:"text-green-500 w-6 h-6"}),n&&(0,s.jsx)(l.X,{className:"text-red-500 w-6 h-6"})]}),(0,s.jsxs)("div",{className:"text-sm",children:["Status today: ",(0,s.jsx)("span",{className:"font-medium",children:t?.status||"Pending"}),t?.reason&&(0,s.jsxs)("p",{className:"text-destructive mt-1",children:["Reason: ",t.reason]})]})]},e.id)})})]})}e.s(["SharedHabits",()=>n],54786)}]);