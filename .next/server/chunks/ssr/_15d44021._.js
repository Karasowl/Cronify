module.exports=[88934,a=>{"use strict";var b=a.i(50944),c=a.i(72131),d=a.i(32886),e=c["use".trim()],f=a.i(6985),g=a.i(9067),h=a.i(73199),i=a.i(87924),j=a.i(45804);let{Link:k,redirect:l,usePathname:m,useRouter:n,getPathname:o}=function(a){let{Link:k,config:l,getPathname:m,...n}=function(a,d){var j,k,l;let m={...j=d||{},localePrefix:"object"==typeof(l=j.localePrefix)?l:{mode:l||"always"},localeCookie:!!((k=j.localeCookie)??1)&&{name:"NEXT_LOCALE",sameSite:"lax",..."object"==typeof k&&k},localeDetection:j.localeDetection??!0,alternateLinks:j.alternateLinks??!0},n=m.pathnames,o=(0,c.forwardRef)(function({href:b,locale:c,...d},h){let j,k;"object"==typeof b?(j=b.pathname,k=b.params):j=b;let l=(0,f.isLocalizableHref)(b),o=a(),q=(0,f.isPromise)(o)?e(o):o,r=l?p({locale:c||q,href:null==n?j:{pathname:j,params:k},forcePrefix:null!=c||void 0}):j;return(0,i.jsx)(g.default,{ref:h,href:"object"==typeof b?{...b,pathname:r}:r,locale:c,localeCookie:m.localeCookie,...d})});function p(a){let b,{forcePrefix:c,href:d,locale:e}=a;return null==n?"object"==typeof d?(b=d.pathname,d.query&&(b+=(0,h.serializeSearchParams)(d.query))):b=d:b=(0,h.compileLocalizedPathname)({locale:e,...(0,h.normalizeNameOrNameWithParams)(d),pathnames:m.pathnames}),(0,h.applyPathnamePrefix)(b,e,m,c)}function q(a){return function(b,...c){return a(p(b),...c)}}return{config:m,Link:o,redirect:q(b.redirect),permanentRedirect:q(b.permanentRedirect),getPathname:p}}(d.useLocale,a);return{...n,Link:k,usePathname:function(){let a,e,g=(a=(0,b.usePathname)(),e=(0,d.useLocale)(),(0,c.useMemo)(()=>{if(!a)return a;let b=a,c=(0,f.getLocalePrefix)(e,l.localePrefix);if((0,f.hasPathnamePrefixed)(c,a))b=(0,f.unprefixPathname)(a,c);else if("never"!==l.localePrefix.mode&&l.localePrefix.prefixes){let c=(0,f.getLocaleAsPrefix)(e);(0,f.hasPathnamePrefixed)(c,a)&&(b=(0,f.unprefixPathname)(a,c))}return b},[l.localePrefix,e,a])),i=(0,d.useLocale)();return(0,c.useMemo)(()=>g&&l.pathnames?(0,h.getRoute)(i,g,l.pathnames):g,[i,g])},useRouter:function(){let a=(0,b.useRouter)(),e=(0,d.useLocale)(),f=(0,b.usePathname)();return(0,c.useMemo)(()=>{function b(a){return function(b,c){let{locale:d,...g}=c||{},h=[m({href:b,locale:d||e,forcePrefix:null!=d||void 0})];Object.keys(g).length>0&&h.push(g),(0,j.default)(l.localeCookie,f,e,d),a(...h)}}return{...a,push:b(a.push),replace:b(a.replace),prefetch:b(a.prefetch)}},[e,f,a])},getPathname:m}}({locales:["en","es"],defaultLocale:"en"});a.s(["Link",0,k,"usePathname",0,m,"useRouter",0,n],88934)},15925,a=>{"use strict";var b=a.i(32886);function c(a,b){return(...a)=>{try{return b(...a)}catch{throw Error(void 0)}}}let d=c(0,b.useTranslations);c(0,b.useFormatter),a.s(["useTranslations",()=>d])},71078,a=>{"use strict";var b=a.i(87924),c=a.i(99570),d=a.i(95445),e=a.i(88934);let f=(0,a.i(70106).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var g=a.i(42021),h=a.i(15925),i=a.i(13429);function j(){let a=(0,e.useRouter)(),j=(0,d.createClient)(),k=(0,h.useTranslations)("Navbar");async function l(){await j.auth.signOut(),a.push("/login")}return(0,b.jsxs)(g.GlassCard,{className:"mb-8 py-4 px-6 flex items-center justify-between",hoverEffect:!1,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,b.jsx)("span",{className:"font-bold text-primary",children:"C"})}),(0,b.jsx)("span",{className:"font-bold text-xl tracking-tight",children:"Cronify"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard"),children:k("dashboard")}),(0,b.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard/partners"),children:k("partners")}),(0,b.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard/shared"),children:k("sharedView")}),(0,b.jsx)(i.LanguageSwitcher,{}),(0,b.jsxs)(c.Button,{variant:"destructive",size:"sm",onClick:l,className:"gap-2",children:[(0,b.jsx)(f,{className:"w-4 h-4"}),k("logout")]})]})]})}a.s(["Navbar",()=>j],71078)},55911,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95445),e=a.i(71078),f=a.i(42021),g=a.i(15925),h=a.i(96221);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),l=(0,d.createClient)(),m=(0,g.useTranslations)("SharedHabits"),n=new Date().toISOString().split("T")[0];return(0,c.useEffect)(()=>{!async function(){try{let{data:{user:a}}=await l.auth.getUser();if(!a||!a.email)return;let{data:b}=await l.from("partnerships").select("user_id").eq("partner_email",a.email).eq("status","active");if(!b||0===b.length)return void k(!1);let c=b.map(a=>a.user_id),{data:d}=await l.from("habits").select(`
                        *,
                        habit_logs(date, status)
                    `).in("user_id",c).order("created_at",{ascending:!1});d&&i(d.map(a=>({...a,user_email:"Partner",logs:a.habit_logs})))}catch(a){console.error("Error fetching shared habits:",a)}finally{k(!1)}}()},[]),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(e.Navbar,{}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:m("title")}),(0,b.jsx)("p",{className:"text-muted-foreground",children:m("description")})]}),j?(0,b.jsx)("div",{className:"flex justify-center p-8",children:(0,b.jsx)(h.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):0===a.length?(0,b.jsx)(f.GlassCard,{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:m("noHabits")})}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(a=>{let c=a.logs.find(a=>a.date===n);return(0,b.jsxs)(f.GlassCard,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:m("statusToday")}),c?(0,b.jsx)("span",{className:"completed"===c.status?"text-green-500":"text-red-500 capitalize",children:c.status}):(0,b.jsx)("span",{className:"text-muted-foreground",children:m("pending")})]})]},a.id)})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_15d44021._.js.map