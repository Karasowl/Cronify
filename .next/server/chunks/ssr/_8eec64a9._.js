module.exports=[1027,a=>{"use strict";let b=(0,a.i(70106).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],1027)},33508,14574,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508);var c=a.i(87924),d=a.i(97942),e=a.i(68114);function f({...a}){return(0,c.jsx)(d.Root,{"data-slot":"dialog",...a})}function g({...a}){return(0,c.jsx)(d.Trigger,{"data-slot":"dialog-trigger",...a})}function h({...a}){return(0,c.jsx)(d.Portal,{"data-slot":"dialog-portal",...a})}function i({className:a,...b}){return(0,c.jsx)(d.Overlay,{"data-slot":"dialog-overlay",className:(0,e.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function j({className:a,children:f,showCloseButton:g=!0,...j}){return(0,c.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,c.jsx)(i,{}),(0,c.jsxs)(d.Content,{"data-slot":"dialog-content",className:(0,e.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...j,children:[f,g&&(0,c.jsxs)(d.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,c.jsx)(b,{}),(0,c.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"dialog-header",className:(0,e.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function l({className:a,...b}){return(0,c.jsx)("div",{"data-slot":"dialog-footer",className:(0,e.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function m({className:a,...b}){return(0,c.jsx)(d.Title,{"data-slot":"dialog-title",className:(0,e.cn)("text-lg leading-none font-semibold",a),...b})}function n({className:a,...b}){return(0,c.jsx)(d.Description,{"data-slot":"dialog-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}a.s(["Dialog",()=>f,"DialogContent",()=>j,"DialogDescription",()=>n,"DialogFooter",()=>l,"DialogHeader",()=>k,"DialogTitle",()=>m,"DialogTrigger",()=>g],14574)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},65184,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15925),e=a.i(42021),f=a.i(33441),g=a.i(33508),h=a.i(70106);let i=(0,h.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var j=a.i(96221),k=a.i(41675),l=a.i(16106),m=a.i(50522);let n=(0,h.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var o=a.i(66155);a.i(82818);var p=a.i(49809),q=a.i(22679),r=a.i(14574),s=a.i(68114);function t(){let{partners:a,isLoading:f,error:g}=(0,o.useSharedHabits)(),[h,k]=(0,c.useState)(null),l=(0,d.useTranslations)("SharedHabits");if(f)return(0,b.jsx)("div",{className:"flex justify-center p-8",children:(0,b.jsx)(j.Loader2,{className:"w-8 h-8 animate-spin text-primary"})});if(g)return(0,b.jsxs)(e.GlassCard,{className:"text-center py-8",children:[(0,b.jsx)(n,{className:"w-8 h-8 text-destructive mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-destructive",children:g})]});let m=a.flatMap(a=>a.habits);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:l("title")}),(0,b.jsx)("p",{className:"text-muted-foreground",children:l("description")})]}),0===m.length?(0,b.jsxs)(e.GlassCard,{className:"text-center py-12",children:[(0,b.jsx)(i,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:l("noHabits")}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:l("noHabitsHint")||"Cuando alguien te agregue como accountability partner, sus h치bitos aparecer치n aqu칤."})]}):(0,b.jsx)("div",{className:"space-y-6",children:a.map(a=>(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,b.jsx)(i,{className:"w-4 h-4 text-primary"})}),(0,b.jsxs)("span",{className:"font-medium",children:[a.habits.length," h치bito",1!==a.habits.length?"s":""," compartido",1!==a.habits.length?"s":""]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.habits.map(a=>(0,b.jsx)(u,{habit:a,onClick:()=>k(a)},a.id))})]},a.id))}),(0,b.jsx)(r.Dialog,{open:!!h,onOpenChange:()=>k(null),children:(0,b.jsx)(r.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:h&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(r.DialogTitle,{children:h.title}),h.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:h.description})]}),(0,b.jsx)(q.SendEncouragement,{habitId:h.id,habitTitle:h.title})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 my-4",children:[(0,b.jsxs)("div",{className:"text-center p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[(0,b.jsx)("p",{className:"text-xl font-bold text-green-500",children:h.stats.completedDays}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:l("completed")||"Completados"})]}),(0,b.jsxs)("div",{className:"text-center p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,b.jsx)("p",{className:"text-xl font-bold text-red-500",children:h.stats.failedDays}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:l("failed")||"Fallados"})]}),(0,b.jsxs)("div",{className:"text-center p-3 rounded-lg bg-primary/10 border border-primary/20",children:[(0,b.jsxs)("p",{className:"text-xl font-bold text-primary",children:[h.stats.completionRate,"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:l("completion")||"Cumplimiento"})]}),(0,b.jsxs)("div",{className:"text-center p-3 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[(0,b.jsxs)("p",{className:"text-xl font-bold text-orange-500",children:[h.stats.currentStreak,h.stats.currentStreak>=3&&" 游댠"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:l("streak")||"Racha"})]})]}),(0,b.jsx)(p.HabitCalendar,{logs:h.habit_logs,startDate:h.start_date,showStats:!1}),h.habit_logs.filter(a=>"failed"===a.status&&a.reason).length>0&&(0,b.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,b.jsxs)("h4",{className:"font-medium text-sm",children:[l("failReasons")||"Razones de fallos recientes",":"]}),(0,b.jsx)("div",{className:"space-y-2",children:h.habit_logs.filter(a=>"failed"===a.status&&a.reason).slice(0,3).map((a,c)=>(0,b.jsxs)("div",{className:"text-sm p-2 rounded bg-red-500/10 border border-red-500/20",children:[(0,b.jsxs)("span",{className:"text-muted-foreground",children:[new Date(a.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"}),":"]})," ",a.reason]},c))})]})]})})})]})}function u({habit:a,onClick:c}){return(0,b.jsxs)(e.GlassCard,{className:(0,s.cn)("border-l-4 cursor-pointer hover:scale-[1.02] transition-transform",(()=>{switch(a.todayStatus){case"completed":return"border-l-green-500 bg-green-500/5";case"failed":return"border-l-red-500 bg-red-500/5";default:return"border-l-muted-foreground/30"}})()),onClick:c,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold truncate",children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:a.description})]}),(()=>{switch(a.todayStatus){case"completed":return(0,b.jsx)(f.Check,{className:"w-5 h-5 text-green-500"});case"failed":return(0,b.jsx)(g.X,{className:"w-5 h-5 text-red-500"});default:return(0,b.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-muted-foreground/30"})}})()]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Cumplimiento"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.stats.completionRate,"%"]})]}),(0,b.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:(0,s.cn)("h-full rounded-full transition-all",a.stats.completionRate>=80?"bg-green-500":a.stats.completionRate>=50?"bg-yellow-500":"bg-red-500"),style:{width:`${a.stats.completionRate}%`}})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(l.Flame,{className:"w-3 h-3 text-orange-500"}),(0,b.jsxs)("span",{children:[a.stats.currentStreak," d칤a",1!==a.stats.currentStreak?"s":""]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(k.Calendar,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"Ver m치s"}),(0,b.jsx)(m.ChevronRight,{className:"w-3 h-3"})]})]}),"failed"===a.todayStatus&&a.todayReason&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-border/50",children:(0,b.jsxs)("p",{className:"text-xs text-red-400",children:[(0,b.jsx)("span",{className:"font-medium",children:"Hoy:"})," ",a.todayReason]})})]})}a.s(["SharedHabits",()=>t],65184)}];

//# sourceMappingURL=_8eec64a9._.js.map