module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},71078,a=>{"use strict";var b=a.i(87924),c=a.i(99570),d=a.i(95445),e=a.i(50944);let f=(0,a.i(70106).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var g=a.i(42021);function h(){let a=(0,e.useRouter)(),h=(0,d.createClient)();async function i(){await h.auth.signOut(),a.push("/login")}return(0,b.jsxs)(g.GlassCard,{className:"mb-8 py-4 px-6 flex items-center justify-between",hoverEffect:!1,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:(0,b.jsx)("span",{className:"font-bold text-primary",children:"C"})}),(0,b.jsx)("span",{className:"font-bold text-xl tracking-tight",children:"Cronify"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard"),children:"Dashboard"}),(0,b.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard/share"),children:"Partners"}),(0,b.jsx)(c.Button,{variant:"ghost",size:"sm",onClick:()=>a.push("/dashboard/shared-with-me"),children:"Shared View"}),(0,b.jsxs)(c.Button,{variant:"destructive",size:"sm",onClick:i,className:"gap-2",children:[(0,b.jsx)(f,{className:"w-4 h-4"}),"Logout"]})]})]})}a.s(["Navbar",()=>h],71078)},33441,34157,62213,33508,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>c],34157),a.s(["Check",()=>c],33441);let d=(0,b.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["default",()=>d],62213),a.s(["X",()=>d],33508)},65184,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95445),e=a.i(42021),f=a.i(33441),g=a.i(33508);let h=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),l=(0,d.createClient)(),m=new Date().toISOString().split("T")[0];async function n(){try{let{data:{user:a}}=await l.auth.getUser();if(!a||!a.email)return;let{data:b}=await l.from("partnerships").select("user_id").eq("partner_email",a.email).eq("status","active");if(!b||0===b.length)return void k(!1);let c=b.map(a=>a.user_id),{data:d}=await l.from("habits").select("*, habit_logs(*)").in("user_id",c);i(d||[])}catch(a){console.error("Error fetching shared habits:",a)}finally{k(!1)}}return((0,c.useEffect)(()=>{n()},[]),j)?(0,b.jsx)("div",{children:"Loading shared view..."}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Shared With Me"}),0===a.length?(0,b.jsx)("p",{className:"text-muted-foreground",children:"No one has shared their habits with you yet."}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(a=>{let c=a.habit_logs?.find(a=>a.date===m),d=c?.status==="completed",i=c?.status==="failed";return(0,b.jsxs)(e.GlassCard,{className:"border-l-4 border-l-primary/50",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,b.jsx)(h,{className:"w-3 h-3"})," Shared User"]})]}),d&&(0,b.jsx)(f.Check,{className:"text-green-500 w-6 h-6"}),i&&(0,b.jsx)(g.X,{className:"text-red-500 w-6 h-6"})]}),(0,b.jsxs)("div",{className:"text-sm",children:["Status today: ",(0,b.jsx)("span",{className:"font-medium",children:c?.status||"Pending"}),c?.reason&&(0,b.jsxs)("p",{className:"text-destructive mt-1",children:["Reason: ",c.reason]})]})]},a.id)})})]})}a.s(["SharedHabits",()=>i],65184)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__73058c51._.js.map